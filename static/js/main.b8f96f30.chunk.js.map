{"version":3,"sources":["assets/desc.svg","assets/asc.svg","assets/exchange.svg","components/GoTop.jsx","apis/THSR.js","apis/config.js","utils.js","components/Icons.jsx","components/THSR/components/ResultTable.jsx","components/THSR/components/PrizeTable.jsx","components/Grid.jsx","components/Select.jsx","components/THSR/components/SearchForm.jsx","components/THSR/THSR.jsx","components/THSR/index.js","components/TRA/TRA.jsx","components/TRA/index.js","components/SwitchTransport.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","scrollTop","window","scrollTo","top","left","behavior","StyledGoTop","styled","props","isShow","useState","setIsShow","useEffect","scroll","scrollY","addEventListener","removeEventListener","useGoTop","style","display","onClick","API_BASE","fetcher","url","fetch","method","mode","headers","then","r","json","timesToMins","times","arr","split","parseInt","prefixZero","str","length","Desc","src","desc","alt","Asc","asc","StyledTable","table","StyledTh","th","pointer","ResultRow","React","memo","TrainNo","DepartureTime","ArrivalTime","Dmins","Amins","className","mins","h","toString","minsToTimes","EmptyRow","colSpan","ResultTable","sortByDeparture","sortByArrival","resultList","onClickDepartureSort","onClickArrivalSort","map","val","key","DailyTrainInfo","OriginStopTime","DestinationStopTime","PrizeTable","prizeList","departure","arrival","v","Price","TicketType","Row","children","Label","htmlFor","FormField","Select","forwardRef","ref","options","e","value","Zh_tw","En","TimeSelect","dep","Date","getHours","defaultDepTime","defaultArrTime","getDefaultHour","StyledSeachForm","onSearch","departureRef","arrivalRef","date","d","month","getMonth","day","getDate","year","getFullYear","join","formatDate","now","setDate","setDeparture","setArrival","departureTime","setDepartureTime","arriveTime","setArriveTime","data","useSWR","suspense","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","stations","StationID","StationName","type","id","onChange","currentTarget","name","target","THSR","updateTime","setUpdateTime","useRef","setDeaprtureState","setArrivalState","setResultList","setPrizeList","searchClick","useCallback","OriginStationID","DestinationStationID","TrainDate","API_TRAIN","searchTrain","res","depFilterTime","arrFilterTime","filteredData","filter","depTime","arrTime","UpdateTime","catch","err","console","log","API_PRICE","searchPriceByStation","Fares","departureSortClick","sort","a","b","aMins","bMins","arrivalSortClick","fallback","current","selectedOptions","textContent","TRA","Container","div","SwitchTransport","App","transportation","setTransportation","renderTransportation","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","ReactDOM","render","document","getElementById","URL","process","href","origin","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b8f96f30.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/desc.f06acfc6.svg\";","module.exports = __webpack_public_path__ + \"static/media/asc.d8be3f88.svg\";","module.exports = __webpack_public_path__ + \"static/media/exchange.c7b5a736.svg\";","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nfunction scrollTop() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: \"smooth\"\n  });\n}\n\nfunction useGoTop() {\n  const [isShow, setIsShow] = useState(false);\n  useEffect(() => {\n    function scroll() {\n      if (window.scrollY > 200) {\n        setIsShow(true);\n      } else {\n        setIsShow(false);\n      }\n    }\n    scroll();\n    window.addEventListener(\"scroll\", scroll);\n    return () => window.removeEventListener(\"scroll\", scroll);\n  }, [setIsShow]);\n  return isShow;\n}\n\nfunction GoTop({ ...props }) {\n  const isShow = useGoTop();\n  const showObj = {\n    display: \"block\"\n  };\n\n  return (\n    <button style={isShow ? showObj : null} onClick={scrollTop} {...props}>\n      TOP\n    </button>\n  );\n}\n\nconst StyledGoTop = styled(GoTop)`\n  position: fixed;\n  bottom: 5%;\n  right: 5%;\n  z-index: 1050;\n  width: 45px;\n  height: 45px;\n  background: #eee;\n  border-radius: 50%;\n  text-align: center;\n  padding: 0;\n  display: none;\n`;\n\nexport default StyledGoTop;\n","import getFetchOptions from \"./config\";\n\n// API spec: https://ptx.transportdata.tw/MOTC?t=Rail&v=2#!/THSR/THSRApi_DailyTimetable\nconst API_BASE = \"https://ptx.transportdata.tw/MOTC\";\n\nexport function searchTrain(OriginStationID, DestinationStationID, TrainDate) {\n  // GET 取得指定[日期],[起迄站間]之時刻表資料\n  const API_TRAIN = `/v2/Rail/THSR/DailyTimetable/OD/${OriginStationID}/to/${DestinationStationID}/${TrainDate}`;\n  return fetch(API_BASE + API_TRAIN, getFetchOptions());\n}\n\nexport function searchPriceByStation(OriginStationID, DestinationStationID) {\n  // GET 取得指定[起訖站間]之票價資料\n  const API_PRICE = `/v2/Rail/THSR/ODFare/${OriginStationID}/to/${DestinationStationID}`;\n  return fetch(API_BASE + API_PRICE, getFetchOptions());\n}\n\nexport const fetcher = url =>\n  fetch(API_BASE + url, getFetchOptions()).then(r => r.json());\n","export default function getFetchOptions() {\n  return {\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept-Encoding\": \"gzip, deflate\"\n    }\n  };\n}\n","export function formatDate(date) {\n  let d = new Date(date),\n    month = \"\" + (d.getMonth() + 1),\n    day = \"\" + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2) month = \"0\" + month;\n  if (day.length < 2) day = \"0\" + day;\n\n  return [year, month, day].join(\"-\");\n}\n\nexport function timesToMins(times) {\n  const arr = times.split(\":\");\n  return parseInt(arr[0], 10) * 60 + parseInt(arr[1], 10);\n}\n\nfunction prefixZero(str) {\n  return str.length < 2 ? \"0\" + str : str;\n}\n\nexport function minsToTimes(mins) {\n  let h = 0;\n  while (mins >= 60) {\n    mins -= 60;\n    h += 1;\n  }\n  h = prefixZero(h.toString());\n  mins = prefixZero(mins.toString());\n  return h + \":\" + mins;\n}\n\nexport function getDefaultHour() {\n  let dep = new Date().getHours() + 1;\n  let arr = dep + 3;\n  dep = prefixZero(dep.toString()) + \":00\";\n  arr = prefixZero(arr.toString()) + \":00\";\n  return {\n    defaultDepTime: dep,\n    defaultArrTime: arr\n  };\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport desc from \"../assets/desc.svg\";\nimport asc from \"../assets/asc.svg\";\nimport exchange from \"../assets/exchange.svg\";\n\nexport const Desc = styled(({ ...props }) => (\n  <img {...props} src={desc} alt=\"desc\" />\n))`\n  width: 20px;\n`;\n\nexport const Asc = styled(({ ...props }) => (\n  <img {...props} src={asc} alt=\"asc\" />\n))`\n  width: 20px;\n`;\n\nexport const Exchange = () => (\n  <img className=\"exchange\" src={exchange} alt=\"exchange\" />\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { minsToTimes, timesToMins } from \"utils\";\nimport { Desc, Asc } from \"components/Icons\";\n\nconst StyledTable = styled.table`\n  width: 100%;\n  box-shadow: 0px 3px 10px #ddd;\n  thead {\n    background-color: #eee;\n  }\n  td {\n    padding: 0.3em;\n    vertical-align: middle;\n  }\n  tr:nth-child(even) {\n    background-color: #eee;\n  }\n`;\n\nconst StyledTh = styled.th`\n  padding: 0.3em;\n  vertical-align: middle;\n  font-weight: bold;\n  cursor: ${props => (props.pointer ? \"pointer\" : \"initial\")};\n`;\n\nexport const ResultRow = React.memo(\n  ({ TrainNo, DepartureTime, ArrivalTime }) => {\n    const Dmins = timesToMins(DepartureTime);\n    const Amins = timesToMins(ArrivalTime);\n    return (\n      <tr>\n        <td className=\"text-info font-weight-bold\">{TrainNo}</td>\n        <td>{DepartureTime}</td>\n        <td>{ArrivalTime}</td>\n        <td>{minsToTimes(Amins - Dmins)}</td>\n      </tr>\n    );\n  }\n);\n\nexport const EmptyRow = () => (\n  <tr>\n    <td colSpan=\"4\">尚無資料</td>\n  </tr>\n);\n\nconst ResultTable = React.memo(\n  ({\n    sortByDeparture,\n    sortByArrival,\n    resultList,\n    onClickDepartureSort,\n    onClickArrivalSort\n  }) => {\n    return (\n      <StyledTable>\n        <thead>\n          <tr>\n            <StyledTh>車次</StyledTh>\n            <StyledTh pointer onClick={onClickDepartureSort}>\n              發車\n              {sortByDeparture === \"desc\" ? <Desc /> : <Asc />}\n            </StyledTh>\n            <StyledTh pointer onClick={onClickArrivalSort}>\n              到達\n              {sortByArrival === \"desc\" ? <Desc /> : <Asc />}\n            </StyledTh>\n            <StyledTh>總時程</StyledTh>\n          </tr>\n        </thead>\n        <tbody>\n          {resultList.length > 0 ? (\n            resultList.map(val => (\n              <ResultRow\n                key={val.DailyTrainInfo.TrainNo}\n                TrainNo={val.DailyTrainInfo.TrainNo}\n                DepartureTime={val.OriginStopTime.DepartureTime}\n                ArrivalTime={val.DestinationStopTime.ArrivalTime}\n              />\n            ))\n          ) : (\n            <EmptyRow />\n          )}\n        </tbody>\n      </StyledTable>\n    );\n  }\n);\n\nexport default ResultTable;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledTable = styled.table`\n  width: 100%;\n  background-color: #aeeff9;\n  th,\n  td {\n    padding: 0.3em;\n  }\n`;\n\nconst PrizeTable = ({ prizeList, departure, arrival }) => {\n  return (\n    <div className=\"mt-3 mb-3\">\n      <h3>票價資訊</h3>\n      <StyledTable>\n        <thead>\n          <tr>\n            <th colSpan=\"3\">\n              {departure}\n              <span className=\"ml-2 mr-2\">&rarr;</span>\n              {arrival}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            {prizeList.map(v => (\n              <td key={v.Price}>\n                {v.TicketType}:<strong>&#36;{v.Price}</strong>\n              </td>\n            ))}\n          </tr>\n        </tbody>\n      </StyledTable>\n    </div>\n  );\n};\n\nexport default PrizeTable;\n","import React from \"react\";\n\nexport function Row({ children }) {\n  return <div className=\"row form-group\">{children}</div>;\n}\n\nexport function Label({ htmlFor, children }) {\n  return (\n    <label htmlFor={htmlFor} className=\"col-4 col-form-label text-left\">\n      {children}\n    </label>\n  );\n}\n\nexport const FormField = React.memo(({ children }) => {\n  return <div className=\"col\">{children}</div>;\n});\n","import React from \"react\";\n\nconst Select = React.memo(\n  React.forwardRef(({ options, ...props }, ref) => {\n    return (\n      <select {...props} ref={ref}>\n        {options.length > 0 ? (\n          options.map(e => (\n            <option key={e.value} value={e.value}>\n              {e.Zh_tw + e.En}\n            </option>\n          ))\n        ) : (\n          <option value=\"\">請選擇</option>\n        )}\n      </select>\n    );\n  })\n);\n\nexport const TimeSelect = ({ options, ...props }) => (\n  <select {...props}>\n    <option value=\"06:00\">06:00</option>\n    <option value=\"07:00\">07:00</option>\n    <option value=\"08:00\">08:00</option>\n    <option value=\"09:00\">09:00</option>\n    <option value=\"10:00\">10:00</option>\n    <option value=\"11:00\">11:00</option>\n    <option value=\"12:00\">12:00</option>\n    <option value=\"13:00\">13:00</option>\n    <option value=\"14:00\">14:00</option>\n    <option value=\"15:00\">15:00</option>\n    <option value=\"16:00\">16:00</option>\n    <option value=\"17:00\">17:00</option>\n    <option value=\"18:00\">18:00</option>\n    <option value=\"19:00\">19:00</option>\n    <option value=\"20:00\">20:00</option>\n    <option value=\"21:00\">21:00</option>\n    <option value=\"22:00\">22:00</option>\n    <option value=\"23:00\">23:00</option>\n    <option value=\"24:00\">24:00</option>\n  </select>\n);\n\nexport default Select;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport useSWR from \"swr\";\nimport { Row, Label, FormField } from \"components/Grid\";\nimport Select, { TimeSelect } from \"components/Select\";\nimport { fetcher } from \"apis/THSR\";\nimport { formatDate, getDefaultHour } from \"utils\";\n\nconst { defaultDepTime, defaultArrTime } = getDefaultHour();\n\nconst SearchForm = ({ onSearch, departureRef, arrivalRef, className }) => {\n  const [date, setDate] = useState(formatDate(Date.now()));\n  const [departure, setDeparture] = useState(\"1000\"); // 台北\n  const [arrival, setArrival] = useState(\"1070\"); // 左營\n  const [departureTime, setDepartureTime] = useState(defaultDepTime);\n  const [arriveTime, setArriveTime] = useState(defaultArrTime);\n\n  // GET 取得車站基本資料\n  const { data } = useSWR(\"/v2/Rail/THSR/Station\", fetcher, {\n    suspense: true,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n    refreshWhenOffline: false,\n    refreshWhenHidden: false,\n    refreshInterval: 0\n  });\n\n  const stations = data\n    ? data.map(val => ({\n        value: val.StationID,\n        ...val.StationName\n      }))\n    : [];\n\n  const depArrSwitch = () => {\n    setDeparture(arrival);\n    setArrival(departure);\n  };\n\n  const handleSearch = () =>\n    onSearch({\n      date,\n      departure,\n      arrival,\n      departureTime,\n      arriveTime\n    });\n\n  return (\n    <div className={`container ${className}`}>\n      <Row>\n        <Label htmlFor=\"trip-start\">日期</Label>\n        <FormField>\n          <input\n            className=\"form-control\"\n            type=\"date\"\n            id=\"trip-start\"\n            value={date}\n            onChange={e => setDate(e.currentTarget.value)}\n          />\n        </FormField>\n      </Row>\n      <Row>\n        <Label htmlFor=\"OrginStation\">起站</Label>\n        <FormField>\n          <Select\n            className=\"form-control\"\n            name=\"OrginStation\"\n            id=\"OrginStation\"\n            options={stations}\n            value={departure}\n            onChange={e => setDeparture(e.currentTarget.value)}\n            ref={departureRef}\n          />\n        </FormField>\n      </Row>\n      <div className=\"row justify-content-center form-group\">\n        <button\n          onClick={depArrSwitch}\n          type=\"button\"\n          className=\"btn btn-outline-primary\"\n        >\n          起迄站交換\n        </button>\n      </div>\n      <Row>\n        <Label htmlFor=\"DestinationStation\">迄站</Label>\n        <FormField>\n          <Select\n            className=\"form-control\"\n            name=\"DestinationStation\"\n            id=\"DestinationStation\"\n            options={stations}\n            value={arrival}\n            onChange={e => setArrival(e.currentTarget.value)}\n            ref={arrivalRef}\n          />\n        </FormField>\n      </Row>\n      <Row>\n        <Label htmlFor=\"DepartureTime\">最早出發</Label>\n        <FormField>\n          <TimeSelect\n            className=\"form-control\"\n            name=\"DepartureTime\"\n            id=\"DepartureTime\"\n            value={departureTime}\n            onChange={e => setDepartureTime(e.target.value)}\n          />\n        </FormField>\n      </Row>\n      <Row>\n        <Label htmlFor=\"ArriveTime\">最晚抵達</Label>\n        <FormField>\n          <TimeSelect\n            className=\"form-control\"\n            name=\"ArriveTime\"\n            id=\"ArriveTime\"\n            value={arriveTime}\n            onChange={e => setArriveTime(e.target.value)}\n          />\n        </FormField>\n      </Row>\n      <button\n        type=\"button\"\n        className=\"btn btn-primary btn-lg btn-block\"\n        onClick={handleSearch}\n      >\n        查詢\n      </button>\n    </div>\n  );\n};\n\nconst StyledSeachForm = styled(SearchForm)`\n  box-shadow: 1px 1px 5px #ddd;\n  background-color: #f3f3f3;\n  border-color: #ddd;\n  color: #333;\n  text-shadow: 0 1px 0 #eee;\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n  margin-bottom: 0.5em;\n  .col-form-label {\n    max-width: 7em;\n  }\n`;\n\nexport default StyledSeachForm;\n","import React, { useState, useCallback, useRef, Suspense } from \"react\";\nimport { searchTrain, searchPriceByStation } from \"apis/THSR\";\nimport { timesToMins } from \"utils\";\n\nimport ResultTable from \"./components/ResultTable\";\nimport PrizeTable from \"./components/PrizeTable\";\nimport SeachForm from \"./components/SearchForm\";\n\nconst THSR = () => {\n  const [updateTime, setUpdateTime] = useState(\"\");\n\n  const departureRef = useRef();\n  const arrivalRef = useRef();\n  const [sortByDeparture, setDeaprtureState] = useState(\"desc\");\n  const [sortByArrival, setArrivalState] = useState(\"desc\");\n  const [resultList, setResultList] = useState([]);\n  const [prizeList, setPrizeList] = useState([]);\n\n  const searchClick = useCallback(\n    ({ date, departure, arrival, departureTime, arriveTime }) => {\n      searchTrain(departure, arrival, date)\n        .then(res => res.json())\n        .then(data => {\n          const depFilterTime = timesToMins(departureTime);\n          const arrFilterTime = timesToMins(arriveTime);\n          const filteredData = data.filter(d => {\n            const depTime = timesToMins(d.OriginStopTime.DepartureTime);\n            const arrTime = timesToMins(d.DestinationStopTime.ArrivalTime);\n            return depTime > depFilterTime && arrTime < arrFilterTime;\n          });\n          setResultList(filteredData);\n          setUpdateTime(data[0].UpdateTime);\n        })\n        .catch(err => console.log(err));\n\n      searchPriceByStation(departure, arrival)\n        .then(res => res.json())\n        .then(data => setPrizeList(data[0].Fares))\n        .catch(err => console.log(err));\n    },\n    []\n  );\n\n  const departureSortClick = useCallback(() => {\n    setDeaprtureState(sortByDeparture === \"desc\" ? \"asc\" : \"desc\");\n    setResultList(\n      resultList.sort((a, b) => {\n        const aMins = timesToMins(a.OriginStopTime.DepartureTime);\n        const bMins = timesToMins(b.OriginStopTime.DepartureTime);\n        return sortByDeparture === \"desc\" ? aMins - bMins : bMins - aMins;\n      })\n    );\n  }, [sortByDeparture, resultList]);\n\n  const arrivalSortClick = useCallback(() => {\n    setArrivalState(sortByArrival === \"desc\" ? \"asc\" : \"desc\");\n    setResultList(\n      resultList.sort((a, b) => {\n        const aMins = timesToMins(a.DestinationStopTime.ArrivalTime);\n        const bMins = timesToMins(b.DestinationStopTime.ArrivalTime);\n        return sortByArrival === \"desc\" ? aMins - bMins : bMins - aMins;\n      })\n    );\n  }, [sortByArrival, resultList]);\n\n  return (\n    <div>\n      <header>\n        <h1>高鐵時刻查詢</h1>\n      </header>\n      <Suspense fallback={<div>Loading...</div>}>\n        <SeachForm\n          onSearch={searchClick}\n          departureRef={departureRef}\n          arrivalRef={arrivalRef}\n        />\n      </Suspense>\n      <div className=\"container\">\n        <ResultTable\n          sortByDeparture={sortByDeparture}\n          sortByArrival={sortByArrival}\n          resultList={resultList}\n          onClickDepartureSort={departureSortClick}\n          onClickArrivalSort={arrivalSortClick}\n        />\n        {prizeList.length > 0 ? (\n          <PrizeTable\n            prizeList={prizeList}\n            departure={departureRef.current.selectedOptions[0].textContent}\n            arrival={arrivalRef.current.selectedOptions[0].textContent}\n          />\n        ) : null}\n      </div>\n      <footer className=\"fixed-bottom\">\n        <p>更新時間: {updateTime}</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default THSR;\n","import THSR from \"./THSR\";\n\nexport default THSR;\n","import React from \"react\";\n// import styled from 'styled-components';\n\nconst TRA = () => {\n  return <div>Hi TRA</div>;\n};\n\nexport default TRA;\n","import TRA from \"./TRA\";\n\nexport default TRA;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  label {\n    display: inline-block;\n    margin: 0 10px;\n    > input {\n      margin-right: 5px;\n    }\n  }\n`;\n\nconst SwitchTransport = ({ onChange }) => {\n  return (\n    <Container>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"transportation\"\n          value=\"THSR\"\n          onChange={e => onChange(e.target.value)}\n        />\n        THSR\n      </label>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"transportation\"\n          value=\"TRA\"\n          onChange={e => onChange(e.target.value)}\n        />\n        TRA\n      </label>\n    </Container>\n  );\n};\n\nexport default SwitchTransport;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nimport GoTop from \"./components/GoTop\";\nimport THSR from \"./components/THSR\";\nimport TRA from \"./components/TRA\";\nimport SwitchTransport from \"./components/SwitchTransport\";\n\nfunction renderTransportation(key) {\n  switch (key) {\n    case \"THSR\":\n      return <THSR />;\n    case \"TRA\":\n      return <TRA />;\n    default:\n      return null;\n  }\n}\n\nfunction App() {\n  const [transportation, setTransportation] = useState(\"\");\n\n  return (\n    <div className=\"App\">\n      <SwitchTransport onChange={setTransportation} />\n      {renderTransportation(transportation)}\n      <GoTop />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}