{"version":3,"sources":["components/GoTop/GoTop.jsx","apis/config.js","apis/THSR.js","components/SortIcon/SortIcon.jsx","components/SortIcon/index.js","components/THSR/components/TrainDetail/components/Row.jsx","components/THSR/components/TrainDetail/TrainDetail.jsx","components/THSR/components/TrainDetail/index.js","components/THSR/components/PrizeDetail/PrizeDetail.jsx","components/THSR/components/PrizeDetail/index.js","components/Select/Select.jsx","components/THSR/components/SearchPanel/SearchPanel.jsx","components/THSR/components/SearchPanel/index.js","components/THSR/THSR.jsx","components/THSR/index.js","apis/TRA.js","utils.js","hooks/useGeoLocation.js","components/TRA/components/SearchPanel/components/TrainTypeSelect/TrainTypeSelect.jsx","components/TRA/components/SearchPanel/components/TrainTypeSelect/index.js","components/TRA/components/SearchPanel/SearchPanel.jsx","components/TRA/components/SearchPanel/index.js","components/TRA/context.js","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/components/DailyTimeTable/DailyTimeTable.jsx","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/components/DailyTimeTable/index.js","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/components/TrainTodayInfo/TrainTodayInfo.jsx","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/components/TrainTodayInfo/index.js","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/TrainInfoDialog.jsx","components/TRA/components/TrainDetail/components/Row/components/TrainInfoDialog/index.js","components/TRA/components/TrainDetail/components/Row/Row.jsx","components/TRA/components/TrainDetail/components/Row/index.js","hooks/useToggle.js","components/TRA/components/TrainDetail/TrainDetail.jsx","components/TRA/components/TrainDetail/index.js","components/TRA/TRA.jsx","components/TRA/index.js","App.jsx","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","position","bottom","spacing","right","zIndex","ScrollTop","classes","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","in","onClick","event","anchor","target","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","className","Fab","color","size","aria-label","swrConfig","suspense","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","fetcher","url","fetch","method","mode","headers","then","r","json","SortIcon","order","NoResults","TableRow","TableCell","colSpan","Row","detail","trainDate","TrainNo","DailyTrainInfo","DepartureTime","OriginStopTime","ArrivalTime","DestinationStopTime","dTime","parseISO","aTime","Typography","differenceInMinutes","TrainDetail","departure","arrival","departureTime","arrivalTime","useState","sortBy","setSortBy","setOrder","shouldFetch","data","useSWR","depFilterTime","arrFilterTime","renderList","filter","d","depTime","arrTime","isAfter","isBefore","sort","a","b","aDepTime","bDepTime","compareDesc","compareAsc","aArrTime","bArrTime","Table","TableHead","TableBody","length","map","key","UpdateTime","StyledTableCell","withStyles","head","backgroundColor","palette","common","black","white","body","fontSize","PrizeDetail","prizeList","Fares","departureStation","OriginStationName","Zh_tw","En","arrivalStation","DestinationStationName","Box","mt","mb","variant","TableContainer","component","Paper","v","Price","TicketType","StyledSelect","textAlign","Select","TimeSelect","props","MenuItem","value","Selector","options","o","SearchPanel","onSearch","format","Date","now","date","setDate","setDeparture","setArrival","setDepartureTime","add","hours","setArriveTime","stations","val","StationID","StationName","my","Container","FormControl","margin","fullWidth","TextField","type","id","onChange","e","currentTarget","label","InputLabel","labelId","Button","disabled","THSR","setTrainDate","setArrivalTime","fallback","toRad","Math","PI","enableHighAccuracy","timeout","maximumAge","icon","checkedIcon","types","text","TrainTypeSelect","Autocomplete","multiple","disableCloseOnSelect","getOptionLabel","option","defaultValue","limitTags","renderOption","selected","Checkbox","style","marginRight","checked","renderInput","params","Option","trainType","setTrainType","location","setPosition","success","pos","coords","error","err","console","warn","code","message","useEffect","navigator","geolocation","getCurrentPosition","useGeoLocation","filteredData","closestStation","myLocation","closest","min","Number","MAX_SAFE_INTEGER","forEach","station","fromLat","latitude","fromLon","longitude","toLat","StationPosition","PositionLat","toLon","PositionLon","distance","acos","sin","cos","Boolean","getClosestStation","name","getOptionSelected","StationUID","getOptionDisabled","formContext","React","createContext","Station","isFirstStaion","isLastStation","useContext","Context","dotColor","undefined","stationName","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","DailyTimeTable","trainNo","stops","StopTimes","Timeline","align","i","tripLine","0","1","2","wheelChairFlag","packageServiceFlag","diningFlag","bikeFlag","breastFeedingFlag","dailyFlag","serviceAddedFlag","TrainTodayInfo","info","startStationName","StartingStationName","endStationName","EndingStationName","gutterBottom","TripLine","WheelchairFlag","PackageServiceFlag","DiningFlag","BikeFlag","BreastFeedingFlag","DailyFlag","ServiceAddedFlag","Note","TrainTypeName","Transition","forwardRef","ref","Slide","direction","appBar","title","marginLeft","flex","TrainInfoDialog","isOpen","toggle","Dialog","fullScreen","open","onClose","TransitionComponent","AppBar","Toolbar","IconButton","edge","DialogContent","init","setValue","useCallback","useToggle","trainTypeFilter","shouldFilterByTrainType","includes","TrainTypeCode","TRA","Provider","TabPanel","children","index","other","hidden","aria-labelledby","pt","a11yProps","App","transportation","setTransportation","Tabs","newValue","Tab","GoTop","isLocalhost","window","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","catch","ReactDOM","render","getElementById","URL","process","href","origin","addEventListener","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a7529a72.chunk.js","sourcesContent":["import React from \"react\";\n\nimport Fab from \"@material-ui/core/Fab\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: \"fixed\",\n    bottom: theme.spacing(6),\n    right: theme.spacing(2),\n    zIndex: 1200\n  }\n}));\n\nfunction ScrollTop() {\n  const classes = useStyles();\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 100\n  });\n\n  const handleClick = event => {\n    const anchor = (event.target.ownerDocument || document).querySelector(\n      \"#back-to-top-anchor\"\n    );\n\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n          <KeyboardArrowUpIcon />\n        </Fab>\n      </div>\n    </Zoom>\n  );\n}\n\nexport default ScrollTop;\n","export default function getFetchOptions() {\n  return {\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept-Encoding\": \"gzip, deflate\"\n    }\n  };\n}\n\nexport const swrConfig = {\n  suspense: true,\n  revalidateOnFocus: false,\n  revalidateOnReconnect: false,\n  refreshWhenOffline: false,\n  refreshWhenHidden: false,\n  refreshInterval: 0\n};\n","import getFetchOptions from \"./config\";\n\n// API spec: https://ptx.transportdata.tw/MOTC?t=Rail&v=2#!/THSR/THSRApi_DailyTimetable\nconst API_BASE = \"https://ptx.transportdata.tw/MOTC\";\n\nexport const fetcher = url =>\n  fetch(API_BASE + url, getFetchOptions()).then(r => r.json());\n","import React from \"react\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\n\nconst SortIcon = ({ order }) => {\n  return order === \"desc\" ? <KeyboardArrowDownIcon /> : <KeyboardArrowUpIcon />;\n};\n\nexport default SortIcon;\n","import SortIcon from \"./SortIcon\";\n\nexport default SortIcon;\n","import React from \"react\";\nimport { parseISO, differenceInMinutes } from \"date-fns\";\n\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport const NoResults = () => (\n  <TableRow>\n    <TableCell colSpan=\"4\">尚無資料</TableCell>\n  </TableRow>\n);\n\nconst Row = ({ detail, trainDate }) => {\n  const TrainNo = detail.DailyTrainInfo.TrainNo;\n  const DepartureTime = detail.OriginStopTime.DepartureTime;\n  const ArrivalTime = detail.DestinationStopTime.ArrivalTime;\n  const dTime = parseISO(`${trainDate} ${DepartureTime}`);\n  const aTime = parseISO(`${trainDate} ${ArrivalTime}`);\n\n  return (\n    <TableRow>\n      <TableCell>\n        <Typography color=\"primary\">{TrainNo}</Typography>\n      </TableCell>\n      <TableCell>{DepartureTime}</TableCell>\n      <TableCell>{ArrivalTime}</TableCell>\n      <TableCell>{differenceInMinutes(aTime, dTime)} 分</TableCell>\n    </TableRow>\n  );\n};\n\nexport default Row;\n","import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { parseISO, isBefore, isAfter, compareAsc, compareDesc } from \"date-fns\";\n\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport { swrConfig } from \"apis/config\";\nimport { fetcher } from \"apis/THSR\";\nimport SortIcon from \"components/SortIcon\";\n\nimport Row, { NoResults } from \"./components/Row\";\n\nconst TrainDetail = ({\n  departure,\n  arrival,\n  trainDate,\n  departureTime,\n  arrivalTime\n}) => {\n  const [sortBy, setSortBy] = useState();\n  const [order, setOrder] = useState();\n\n  const shouldFetch = departure && arrival && trainDate;\n\n  // GET 取得指定[日期],[起迄站間]之時刻表資料\n  const { data } = useSWR(\n    () =>\n      shouldFetch &&\n      `/v2/Rail/THSR/DailyTimetable/OD/${departure}/to/${arrival}/${trainDate}`,\n    fetcher,\n    swrConfig\n  );\n\n  const depFilterTime = parseISO(`${trainDate} ${departureTime}`);\n  const arrFilterTime = parseISO(`${trainDate} ${arrivalTime}`);\n\n  const trainDetails = data\n    ? data.filter(d => {\n        const depTime = parseISO(\n          `${trainDate} ${d.OriginStopTime.DepartureTime}`\n        );\n        const arrTime = parseISO(\n          `${trainDate} ${d.DestinationStopTime.ArrivalTime}`\n        );\n        return (\n          isAfter(depTime, depFilterTime) && isBefore(arrTime, arrFilterTime)\n        );\n      })\n    : [];\n\n  const onClickDepartureSort = () => {\n    setSortBy(\"departure\");\n    setOrder(order === \"desc\" ? \"asc\" : \"desc\");\n  };\n\n  const onClickArrivalSort = () => {\n    setSortBy(\"arrival\");\n    setOrder(order === \"desc\" ? \"asc\" : \"desc\");\n  };\n\n  const renderList = trainDetails.sort((a, b) => {\n    if (sortBy === \"departure\") {\n      const aDepTime = parseISO(\n        `${trainDate} ${a.OriginStopTime.DepartureTime}`\n      );\n      const bDepTime = parseISO(\n        `${trainDate} ${b.OriginStopTime.DepartureTime}`\n      );\n\n      return order === \"desc\"\n        ? compareDesc(aDepTime, bDepTime)\n        : compareAsc(aDepTime, bDepTime);\n    } else if (sortBy === \"arrival\") {\n      const aArrTime = parseISO(\n        `${trainDate} ${a.DestinationStopTime.ArrivalTime}`\n      );\n      const bArrTime = parseISO(\n        `${trainDate} ${b.DestinationStopTime.ArrivalTime}`\n      );\n\n      return order === \"desc\"\n        ? compareDesc(aArrTime, bArrTime)\n        : compareAsc(aArrTime, bArrTime);\n    } else {\n      return true;\n    }\n  });\n\n  return (\n    <div>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>車次</TableCell>\n            <TableCell onClick={onClickDepartureSort}>\n              <span>發車</span>\n              {sortBy === \"departure\" ? (\n                <SortIcon order={order} />\n              ) : (\n                <UnfoldMoreIcon />\n              )}\n            </TableCell>\n            <TableCell onClick={onClickArrivalSort}>\n              <span>到達</span>\n              {sortBy === \"arrival\" ? (\n                <SortIcon order={order} />\n              ) : (\n                <UnfoldMoreIcon />\n              )}\n            </TableCell>\n            <TableCell>總時程</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {renderList.length > 0 ? (\n            renderList.map(detail => (\n              <Row\n                key={detail.DailyTrainInfo.TrainNo}\n                detail={detail}\n                trainDate={trainDate}\n              />\n            ))\n          ) : (\n            <NoResults />\n          )}\n        </TableBody>\n      </Table>\n      <footer className=\"fixed-bottom\">\n        <p>更新時間: {data?.[0]?.UpdateTime || \"---\"}</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default TrainDetail;\n","import TrainDetail from \"./TrainDetail\";\n\nexport default TrainDetail;\n","import React from \"react\";\nimport useSWR from \"swr\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { fetcher } from \"apis/THSR\";\nimport { swrConfig } from \"apis/config\";\n\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\n\nconst PrizeDetail = ({ departure, arrival }) => {\n  const shouldFetch = departure && arrival;\n\n  // GET 取得指定[起訖站間]之票價資料\n  const { data } = useSWR(\n    () => shouldFetch && `/v2/Rail/THSR/ODFare/${departure}/to/${arrival}`,\n    fetcher,\n    swrConfig\n  );\n\n  const prizeList = data ? data[0].Fares : [];\n\n  if (prizeList.length < 1) return null;\n\n  const departureStation =\n    data[0].OriginStationName.Zh_tw + data[0].OriginStationName.En;\n  const arrivalStation =\n    data[0].DestinationStationName.Zh_tw + data[0].DestinationStationName.En;\n\n  return (\n    <Box mt={2}>\n      <Box mb={1}>\n        <Typography variant=\"h4\">票價資訊</Typography>\n      </Box>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <StyledTableCell colSpan=\"3\">\n                {departureStation}&nbsp;\n                <ArrowRightAltIcon />\n                &nbsp;{arrivalStation}\n              </StyledTableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              {prizeList.map(v => (\n                <TableCell key={v.Price}>\n                  {v.TicketType}: <strong>{v.Price}</strong> 元\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n};\n\nexport default PrizeDetail;\n","import PrizeDetail from \"./PrizeDetail\";\n\nexport default PrizeDetail;\n","import React from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst StyledSelect = withStyles({\n  root: {\n    textAlign: \"left\"\n  }\n})(Select);\n\nconst Selector = ({ options, ...props }) => {\n  return (\n    <StyledSelect {...props}>\n      {options.length > 0 ? (\n        options.map(o => (\n          <MenuItem key={o.value} value={o.value}>\n            {o.Zh_tw + o.En}\n          </MenuItem>\n        ))\n      ) : (\n        <MenuItem value=\"\">無資料</MenuItem>\n      )}\n    </StyledSelect>\n  );\n};\n\nexport const TimeSelect = props => (\n  <StyledSelect {...props}>\n    <MenuItem value=\"06:00\">06:00</MenuItem>\n    <MenuItem value=\"07:00\">07:00</MenuItem>\n    <MenuItem value=\"08:00\">08:00</MenuItem>\n    <MenuItem value=\"09:00\">09:00</MenuItem>\n    <MenuItem value=\"10:00\">10:00</MenuItem>\n    <MenuItem value=\"11:00\">11:00</MenuItem>\n    <MenuItem value=\"12:00\">12:00</MenuItem>\n    <MenuItem value=\"13:00\">13:00</MenuItem>\n    <MenuItem value=\"14:00\">14:00</MenuItem>\n    <MenuItem value=\"15:00\">15:00</MenuItem>\n    <MenuItem value=\"16:00\">16:00</MenuItem>\n    <MenuItem value=\"17:00\">17:00</MenuItem>\n    <MenuItem value=\"18:00\">18:00</MenuItem>\n    <MenuItem value=\"19:00\">19:00</MenuItem>\n    <MenuItem value=\"20:00\">20:00</MenuItem>\n    <MenuItem value=\"21:00\">21:00</MenuItem>\n    <MenuItem value=\"22:00\">22:00</MenuItem>\n    <MenuItem value=\"23:00\">23:00</MenuItem>\n    <MenuItem value=\"24:00\">24:00</MenuItem>\n  </StyledSelect>\n);\n\nexport default Selector;\n","import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { format, add } from \"date-fns\";\n\nimport { TextField } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\n\nimport Select, { TimeSelect } from \"components/Select\";\nimport { swrConfig } from \"apis/config\";\nimport { fetcher } from \"apis/THSR\";\n\nconst SearchPanel = ({ onSearch, className }) => {\n  const [date, setDate] = useState(format(Date.now(), \"yyyy-MM-dd\"));\n  const [departure, setDeparture] = useState(\"1000\"); // 台北\n  const [arrival, setArrival] = useState(\"1070\"); // 左營\n  const [departureTime, setDepartureTime] = useState(\n    format(Date.now(), \"HH:00\")\n  );\n  const [arrivalTime, setArriveTime] = useState(\n    format(add(Date.now(), { hours: 3 }), \"HH:00\")\n  );\n\n  // GET 取得車站基本資料\n  const { data } = useSWR(\"/v2/Rail/THSR/Station\", fetcher, swrConfig);\n\n  const stations = data\n    ? data.map(val => ({\n        value: val.StationID,\n        ...val.StationName\n      }))\n    : [];\n\n  const depArrSwitch = () => {\n    setDeparture(arrival);\n    setArrival(departure);\n  };\n\n  const handleSearch = () =>\n    onSearch({\n      date,\n      departure,\n      arrival,\n      departureTime,\n      arrivalTime\n    });\n\n  return (\n    <Box my={2}>\n      <Paper>\n        <Container>\n          <FormControl margin=\"normal\" fullWidth>\n            <TextField\n              type=\"date\"\n              id=\"trip-start\"\n              value={date}\n              onChange={e => setDate(e.currentTarget.value)}\n              variant=\"outlined\"\n              label=\"日期\"\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <InputLabel id=\"OrginStation\">起站</InputLabel>\n            <Select\n              label=\"起站\"\n              labelId=\"OrginStation\"\n              options={stations}\n              value={departure}\n              onChange={e => setDeparture(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\">\n            <Button variant=\"contained\" color=\"primary\" onClick={depArrSwitch}>\n              起迄站交換\n            </Button>\n          </FormControl>\n          <FormControl fullWidth variant=\"outlined\">\n            <InputLabel id=\"DestinationStation\">迄站</InputLabel>\n            <Select\n              label=\"迄站\"\n              labelId=\"DestinationStation\"\n              options={stations}\n              value={arrival}\n              onChange={e => setArrival(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <InputLabel id=\"DepartureTime\">最早出發</InputLabel>\n            <TimeSelect\n              label=\"最早出發\"\n              labelId=\"DepartureTime\"\n              value={departureTime}\n              onChange={e => setDepartureTime(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <InputLabel id=\"ArrivalTime\">最晚抵達</InputLabel>\n            <TimeSelect\n              label=\"最晚抵達\"\n              labelId=\"ArrivalTime\"\n              value={arrivalTime}\n              onChange={e => setArriveTime(e.target.value)}\n            />\n          </FormControl>\n          <FormControl fullWidth margin=\"normal\">\n            <Button\n              size=\"large\"\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSearch}\n              disabled={!departure || !arrival}\n            >\n              查詢\n            </Button>\n          </FormControl>\n        </Container>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default SearchPanel;\n","import SearchPanel from \"./SearchPanel\";\n\nexport default SearchPanel;\n","import React, { useState, Suspense } from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nimport TrainDetail from \"./components/TrainDetail\";\nimport PrizeDetail from \"./components/PrizeDetail\";\nimport SearchPanel from \"./components/SearchPanel\";\n\nconst THSR = () => {\n  const [trainDate, setTrainDate] = useState(\"\");\n  const [departure, setDeparture] = useState(\"\");\n  const [arrival, setArrival] = useState(\"\");\n  const [departureTime, setDepartureTime] = useState(\"\");\n  const [arrivalTime, setArrivalTime] = useState(\"\");\n\n  const searchClick = ({\n    date,\n    departure,\n    arrival,\n    departureTime,\n    arrivalTime\n  }) => {\n    setTrainDate(date);\n    setDeparture(departure);\n    setArrival(arrival);\n    setDepartureTime(departureTime);\n    setArrivalTime(arrivalTime);\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h3\">高鐵時刻查詢</Typography>\n      <Suspense fallback={<div>Get stations...</div>}>\n        <SearchPanel onSearch={searchClick} />\n      </Suspense>\n      <Suspense fallback={<div>Get train details...</div>}>\n        <TrainDetail\n          departure={departure}\n          arrival={arrival}\n          trainDate={trainDate}\n          departureTime={departureTime}\n          arrivalTime={arrivalTime}\n        />\n      </Suspense>\n      <Suspense fallback={<div>Get prize detail...</div>}>\n        <PrizeDetail departure={departure} arrival={arrival} />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default THSR;\n","import THSR from \"./THSR\";\n\nexport default THSR;\n","import getFetchOptions from \"./config\";\n\n// API spec: https://ptx.transportdata.tw/MOTC?t=Rail&v=2#!/TRA/TRAApi_ODDailyTimetable\nconst API_BASE = \"https://ptx.transportdata.tw/MOTC\";\n\nexport const fetcher = url =>\n  fetch(API_BASE + url, getFetchOptions()).then(r => r.json());\n","const toRad = value => (value * Math.PI) / 180;\n\nconst robustAcos = value => {\n  if (value > 1) {\n    return 1;\n  }\n  if (value < -1) {\n    return -1;\n  }\n\n  return value;\n};\n\nexport const getClosestStation = (myLocation, stations) => {\n  let closest = null;\n  let min = Number.MAX_SAFE_INTEGER;\n\n  if (!myLocation || myLocation.error || !stations.length) return null;\n\n  stations.forEach(station => {\n    const earthRadius = 6378137;\n    const fromLat = myLocation.latitude;\n    const fromLon = myLocation.longitude;\n    const toLat = station.StationPosition.PositionLat;\n    const toLon = station.StationPosition.PositionLon;\n\n    const distance =\n      Math.acos(\n        robustAcos(\n          Math.sin(toRad(toLat)) * Math.sin(toRad(fromLat)) +\n            Math.cos(toRad(toLat)) *\n              Math.cos(toRad(fromLat)) *\n              Math.cos(toRad(fromLon) - toRad(toLon))\n        )\n      ) * earthRadius;\n\n    if (distance < min) {\n      min = distance;\n      closest = station;\n    }\n  });\n\n  return {\n    ...closest,\n    StationName: {\n      Zh_tw: `最近的車站: ${closest.StationName.Zh_tw}`,\n      En: \"\"\n    },\n    icon: true,\n    disabled: Boolean(myLocation?.error)\n  };\n};\n","import { useState, useEffect } from \"react\";\n\nconst options = {\n  enableHighAccuracy: true,\n  timeout: 5000,\n  maximumAge: 0\n};\n\nexport default function useGeoLocation() {\n  const [position, setPosition] = useState(null);\n\n  function success(pos) {\n    setPosition(pos.coords);\n  }\n\n  function error(err) {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n    setPosition({ error: err });\n  }\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(success, error, options);\n    } else {\n      setPosition({ error: \"You device don't support geolocation api\" });\n    }\n  }, []);\n\n  return position;\n}\n","import React from \"react\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\nconst types = [\n  { text: \"不限\", value: \"0\" },\n  { text: \"太魯閣\", value: \"1\" },\n  { text: \"普悠瑪\", value: \"2\" },\n  { text: \"自強\", value: \"3\" },\n  { text: \"莒光\", value: \"4\" },\n  { text: \"復興\", value: \"5\" },\n  { text: \"區間\", value: \"6\" },\n  { text: \"普快\", value: \"7\" }\n];\n\nconst TrainTypeSelect = props => {\n  return (\n    <Autocomplete\n      multiple\n      options={types}\n      disableCloseOnSelect\n      getOptionLabel={option => option.text}\n      defaultValue={[types[0]]}\n      limitTags={2}\n      renderOption={(option, { selected }) => (\n        <>\n          <Checkbox\n            icon={icon}\n            checkedIcon={checkedIcon}\n            style={{ marginRight: 8 }}\n            checked={selected}\n          />\n          {option.text}\n        </>\n      )}\n      renderInput={params => (\n        <TextField {...params} variant=\"outlined\" label=\"列車種類\" />\n      )}\n      {...props}\n    />\n  );\n};\n\nexport default TrainTypeSelect;\n","import TrainTypeSelect from \"./TrainTypeSelect\";\n\nexport default TrainTypeSelect;\n","import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { format, add } from \"date-fns\";\n\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport { TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\n\nimport { TimeSelect } from \"components/Select\";\nimport { swrConfig } from \"apis/config\";\nimport { fetcher } from \"apis/TRA\";\nimport { getClosestStation } from \"utils\";\nimport useGeoLocation from \"hooks/useGeoLocation\";\n\nimport TrainTypeSelect from \"./components/TrainTypeSelect\";\n\nconst Option = option => {\n  return (\n    <>\n      {option.icon && (\n        <LocationOnIcon color=\"primary\" style={{ marginRight: 8 }} />\n      )}\n      {option.StationName.Zh_tw + \" \" + option.StationName.En}\n    </>\n  );\n};\n\nconst SearchPanel = ({ onSearch }) => {\n  const [date, setDate] = useState(format(Date.now(), \"yyyy-MM-dd\"));\n  const [departure, setDeparture] = useState(null);\n  const [arrival, setArrival] = useState(null);\n  const [departureTime, setDepartureTime] = useState(\n    format(Date.now(), \"HH:00\")\n  );\n  const [arrivalTime, setArriveTime] = useState(\n    format(add(Date.now(), { hours: 3 }), \"HH:00\")\n  );\n  const [trainType, setTrainType] = useState([{ text: \"不限\", value: \"0\" }]);\n  const location = useGeoLocation();\n\n  // GET 取得車站基本資料\n  const { data } = useSWR(\n    \"/v2/Rail/TRA/Station?$top=500&$format=JSON\",\n    fetcher,\n    swrConfig\n  );\n\n  // 過濾掉 台北-環島站\n  const filteredData = data ? data.filter(v => v.StationID !== \"1001\") : [];\n\n  const closestStation = getClosestStation(location, filteredData);\n\n  const stations = filteredData\n    ? [closestStation, ...filteredData].filter(v => v !== null)\n    : [];\n\n  const depArrSwitch = () => {\n    setDeparture(arrival);\n    setArrival(departure);\n  };\n\n  const handleSearch = () =>\n    onSearch({\n      date,\n      departure,\n      arrival,\n      departureTime,\n      arrivalTime,\n      trainType\n    });\n\n  return (\n    <Box my={2}>\n      <Paper>\n        <Container>\n          <FormControl margin=\"normal\" fullWidth>\n            <TextField\n              type=\"date\"\n              id=\"trip-start\"\n              value={date}\n              onChange={e => setDate(e.currentTarget.value)}\n              variant=\"outlined\"\n              label=\"日期\"\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <Autocomplete\n              name=\"OrginStation\"\n              id=\"OrginStation\"\n              options={stations}\n              onChange={(e, v) => setDeparture(v)}\n              value={departure}\n              renderInput={params => (\n                <TextField {...params} label=\"起站\" variant=\"outlined\" />\n              )}\n              renderOption={Option}\n              getOptionLabel={({ StationName }) =>\n                StationName.Zh_tw + \" \" + StationName.En\n              }\n              getOptionSelected={(o, v) => o.StationUID === v.StationUID}\n              getOptionDisabled={o => o.disabled}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\">\n            <Button variant=\"contained\" color=\"primary\" onClick={depArrSwitch}>\n              起迄站交換\n            </Button>\n          </FormControl>\n          <FormControl fullWidth variant=\"outlined\">\n            <Autocomplete\n              name=\"DestinationStation\"\n              id=\"DestinationStation\"\n              options={stations}\n              onChange={(e, v) => setArrival(v)}\n              value={arrival}\n              renderInput={params => (\n                <TextField {...params} label=\"迄站\" variant=\"outlined\" />\n              )}\n              renderOption={Option}\n              getOptionLabel={option =>\n                option.StationName.Zh_tw + \" \" + option.StationName.En\n              }\n              getOptionSelected={(o, v) => o.StationUID === v.StationUID}\n              getOptionDisabled={o => o.disabled}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <InputLabel id=\"DepartureTime\">最早出發</InputLabel>\n            <TimeSelect\n              label=\"最早出發\"\n              labelId=\"DepartureTime\"\n              value={departureTime}\n              onChange={e => setDepartureTime(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <InputLabel id=\"ArrivalTime\">最晚抵達</InputLabel>\n            <TimeSelect\n              label=\"最晚抵達\"\n              labelId=\"ArrivalTime\"\n              value={arrivalTime}\n              onChange={e => setArriveTime(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" fullWidth variant=\"outlined\">\n            <TrainTypeSelect\n              name=\"trainType\"\n              id=\"trainType\"\n              onChange={(e, v) => setTrainType(v)}\n            />\n          </FormControl>\n          <FormControl fullWidth margin=\"normal\">\n            <Button\n              size=\"large\"\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              onClick={handleSearch}\n              disabled={!departure || !arrival || trainType.length < 1}\n            >\n              查詢\n            </Button>\n          </FormControl>\n        </Container>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default SearchPanel;\n","import SearchPanel from \"./SearchPanel\";\n\nexport default SearchPanel;\n","import React from \"react\";\n\nconst formContext = React.createContext({\n  trainDate: \"\",\n  departure: \"\",\n  arrival: \"\",\n  departureTime: \"\",\n  arrivalTime: \"\"\n});\n\nexport default formContext;\n","import React, { useContext } from \"react\";\nimport useSWR from \"swr\";\n\nimport Timeline from \"@material-ui/lab/Timeline\";\nimport TimelineItem from \"@material-ui/lab/TimelineItem\";\nimport TimelineSeparator from \"@material-ui/lab/TimelineSeparator\";\nimport TimelineConnector from \"@material-ui/lab/TimelineConnector\";\nimport TimelineContent from \"@material-ui/lab/TimelineContent\";\nimport TimelineDot from \"@material-ui/lab/TimelineDot\";\nimport TimelineOppositeContent from \"@material-ui/lab/TimelineOppositeContent\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { swrConfig } from \"apis/config\";\nimport { fetcher } from \"apis/TRA\";\nimport Context from \"components/TRA/context\";\n\nconst Station = ({ station, isFirstStaion, isLastStation }) => {\n  const { departure, arrival } = useContext(Context);\n  const isTargetStation =\n    station.StationID === departure.StationID ||\n    station.StationID === arrival.StationID;\n\n  const dotColor = isTargetStation\n    ? \"secondary\"\n    : isFirstStaion || isLastStation\n    ? \"primary\"\n    : undefined;\n\n  const stationName = `${station.StationName.Zh_tw} ${station.StationName.En}`;\n\n  return (\n    <TimelineItem>\n      <TimelineOppositeContent>\n        <Typography color=\"textSecondary\">{station.ArrivalTime}</Typography>\n      </TimelineOppositeContent>\n      <TimelineSeparator>\n        <TimelineDot color={dotColor} />\n        <TimelineConnector />\n      </TimelineSeparator>\n      <TimelineContent>\n        <Typography>{stationName}</Typography>\n      </TimelineContent>\n    </TimelineItem>\n  );\n};\n\nconst DailyTimeTable = ({ trainNo }) => {\n  // GET 取得當天指定[車次]的時刻表資料\n  const { data } = useSWR(\n    () => trainNo && `/v2/Rail/TRA/DailyTimetable/Today/TrainNo/${trainNo}`,\n    fetcher,\n    swrConfig\n  );\n\n  const stops = data ? data[0].StopTimes : [];\n\n  return (\n    <Timeline align=\"right\">\n      {stops.map((v, i) => (\n        <Station\n          key={v.StationID}\n          station={v}\n          isFirstStaion={i === 0}\n          isLastStation={i === stops.length - 1}\n        />\n      ))}\n    </Timeline>\n  );\n};\n\nexport default DailyTimeTable;\n","import DailyTimeTable from \"./DailyTimeTable\";\n\nexport default DailyTimeTable;\n","import React from \"react\";\nimport useSWR from \"swr\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { fetcher } from \"apis/TRA\";\nimport { swrConfig } from \"apis/config\";\n\nconst tripLine = {\n  0: \"不經山海線\",\n  1: \"山線\",\n  2: \"海線\"\n};\n\nconst wheelChairFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst packageServiceFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst diningFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst bikeFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst breastFeedingFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst dailyFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst serviceAddedFlag = {\n  0: \"否\",\n  1: \"是\"\n};\n\nconst TrainTodayInfo = ({ trainNo }) => {\n  // GET 取得當天指定[車次]的車次資料\n  const { data } = useSWR(\n    () => trainNo && `/v2/Rail/TRA/DailyTrainInfo/Today/TrainNo/${trainNo}`,\n    fetcher,\n    swrConfig\n  );\n\n  if (!data) return null;\n\n  const info = data[0];\n  const startStationName = `${info.StartingStationName.Zh_tw} ${info.StartingStationName.En}`;\n  const endStationName = `${info.EndingStationName.Zh_tw} ${info.EndingStationName.En}`;\n\n  return (\n    <Box my={2}>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>起站: </strong>\n        {startStationName}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>訖站: </strong>\n        {endStationName}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>山海線類型: </strong>\n        {tripLine[info.TripLine]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否設身障旅客專用座位車: </strong>\n        {wheelChairFlag[info.WheelchairFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否提供行李服務: </strong>\n        {packageServiceFlag[info.PackageServiceFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否提供訂便當服務: </strong>\n        {diningFlag[info.DiningFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否人車同行班次(置於攜車袋之自行車各級列車均可乘車): </strong>\n        {bikeFlag[info.BikeFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否設有哺(集)乳室車廂: </strong>\n        {breastFeedingFlag[info.BreastFeedingFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否每日行駛: </strong>\n        {dailyFlag[info.DailyFlag]}\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        <strong>是否為加班車: </strong>\n        {serviceAddedFlag[info.ServiceAddedFlag]}\n      </Typography>\n      <Typography variant=\"body1\" gutterBottom>\n        <strong>其他: </strong>\n        {info.Note.Zh_tw} {info.TrainTypeName.Zh_tw}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default TrainTodayInfo;\n","import TrainTodayInfo from \"./TrainTodayInfo\";\n\nexport default TrainTodayInfo;\n","import React, { Suspense } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport DailyTimeTable from \"./components/DailyTimeTable\";\nimport TrainTodayInfo from \"./components/TrainTodayInfo\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: \"static\"\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n}));\n\nconst TrainInfoDialog = ({ isOpen, toggle, trainNo }) => {\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      fullScreen\n      open={isOpen}\n      onClose={toggle}\n      TransitionComponent={Transition}\n    >\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={toggle}\n            aria-label=\"close\"\n          >\n            <CloseIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            車號 - {trainNo}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <Suspense fallback={<div>Get train today info...</div>}>\n          <TrainTodayInfo trainNo={isOpen && trainNo} />\n        </Suspense>\n        <Suspense fallback={<div>Get train time table...</div>}>\n          <DailyTimeTable trainNo={isOpen && trainNo} />\n        </Suspense>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default TrainInfoDialog;\n","import TrainInfoDialog from \"./TrainInfoDialog\";\n\nexport default TrainInfoDialog;\n","import React from \"react\";\n\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\n\nimport useToggle from \"hooks/useToggle\";\nimport TrainInfoDialog from \"./components/TrainInfoDialog\";\n\nexport const NoResults = () => (\n  <TableRow>\n    <TableCell colSpan=\"4\">尚無資料</TableCell>\n  </TableRow>\n);\n\nconst Row = ({ detail }) => {\n  const [isOpen, toggle] = useToggle();\n\n  const TrainNo = detail.DailyTrainInfo.TrainNo;\n  const DepartureTime = detail.OriginStopTime.DepartureTime;\n  const ArrivalTime = detail.DestinationStopTime.ArrivalTime;\n\n  return (\n    <TableRow>\n      <TableCell>\n        <Typography color=\"primary\">{TrainNo}</Typography>\n      </TableCell>\n      <TableCell>{DepartureTime}</TableCell>\n      <TableCell>{ArrivalTime}</TableCell>\n      <TableCell>\n        <Button color=\"primary\" onClick={toggle}>\n          查看\n        </Button>\n        <TrainInfoDialog trainNo={TrainNo} isOpen={isOpen} toggle={toggle} />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nexport default Row;\n","import Row, { NoResults } from \"./Row\";\n\nexport { NoResults };\nexport default Row;\n","import { useState, useCallback } from \"react\";\n\nexport default function useToggle(init = false) {\n  const [value, setValue] = useState(init);\n  const toggle = useCallback(() => setValue(!value), [value]);\n  return [value, toggle];\n}\n","import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { parseISO, isBefore, isAfter, compareAsc, compareDesc } from \"date-fns\";\n\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport { swrConfig } from \"apis/config\";\nimport { fetcher } from \"apis/THSR\";\n\nimport Row, { NoResults } from \"./components/Row\";\nimport SortIcon from \"components/SortIcon\";\n\nconst TrainDetail = ({\n  departure,\n  arrival,\n  trainDate,\n  departureTime,\n  arrivalTime,\n  trainType\n}) => {\n  const [sortBy, setSortBy] = useState();\n  const [order, setOrder] = useState();\n\n  const shouldFetch = departure.StationID && arrival.StationID && trainDate;\n\n  // GET 取得指定[日期],[起迄站間]之時刻表資料\n  const { data } = useSWR(\n    () =>\n      shouldFetch &&\n      `/v2/Rail/TRA/DailyTimetable/OD/${departure.StationID}/to/${arrival.StationID}/${trainDate}?format=JSON`,\n    fetcher,\n    swrConfig\n  );\n\n  const depFilterTime = parseISO(`${trainDate} ${departureTime}`);\n  const arrFilterTime = parseISO(`${trainDate} ${arrivalTime}`);\n\n  const onClickDepartureSort = () => {\n    setSortBy(\"departure\");\n    setOrder(order === \"desc\" ? \"asc\" : \"desc\");\n  };\n\n  const onClickArrivalSort = () => {\n    setSortBy(\"arrival\");\n    setOrder(order === \"desc\" ? \"asc\" : \"desc\");\n  };\n\n  const trainTypeFilter = trainType.map(v => v.value);\n  const shouldFilterByTrainType = !trainTypeFilter.includes(\"0\");\n\n  const trainDetails = data\n    ? data\n        .filter(d => {\n          const depTime = parseISO(\n            `${trainDate} ${d.OriginStopTime.DepartureTime}`\n          );\n          const arrTime = parseISO(\n            `${trainDate} ${d.DestinationStopTime.ArrivalTime}`\n          );\n          return (\n            isAfter(depTime, depFilterTime) && isBefore(arrTime, arrFilterTime)\n          );\n        })\n        .filter(d => {\n          if (!shouldFilterByTrainType) return true;\n          return trainTypeFilter.includes(d.DailyTrainInfo.TrainTypeCode);\n        })\n    : [];\n\n  const renderList = trainDetails.sort((a, b) => {\n    if (sortBy === \"departure\") {\n      const aDepTime = parseISO(\n        `${trainDate} ${a.OriginStopTime.DepartureTime}`\n      );\n      const bDepTime = parseISO(\n        `${trainDate} ${b.OriginStopTime.DepartureTime}`\n      );\n\n      return order === \"desc\"\n        ? compareDesc(aDepTime, bDepTime)\n        : compareAsc(aDepTime, bDepTime);\n    } else if (sortBy === \"arrival\") {\n      const aArrTime = parseISO(\n        `${trainDate} ${a.DestinationStopTime.ArrivalTime}`\n      );\n      const bArrTime = parseISO(\n        `${trainDate} ${b.DestinationStopTime.ArrivalTime}`\n      );\n\n      return order === \"desc\"\n        ? compareDesc(aArrTime, bArrTime)\n        : compareAsc(aArrTime, bArrTime);\n    } else {\n      return true;\n    }\n  });\n\n  return (\n    <div>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>車號</TableCell>\n            <TableCell onClick={onClickDepartureSort}>\n              <span>發車</span>\n              {sortBy === \"departure\" ? (\n                <SortIcon order={order} />\n              ) : (\n                <UnfoldMoreIcon />\n              )}\n            </TableCell>\n            <TableCell onClick={onClickArrivalSort}>\n              <span>到達</span>\n              {sortBy === \"arrival\" ? (\n                <SortIcon order={order} />\n              ) : (\n                <UnfoldMoreIcon />\n              )}\n            </TableCell>\n            <TableCell>詳細資訊</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {renderList.length > 0 ? (\n            renderList.map(detail => (\n              <Row key={detail.DailyTrainInfo.TrainNo} detail={detail} />\n            ))\n          ) : (\n            <NoResults />\n          )}\n        </TableBody>\n      </Table>\n      <footer className=\"fixed-bottom\">\n        <p>更新時間: {data?.[0]?.UpdateTime || \"---\"}</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default TrainDetail;\n","import TrainDetail from \"./TrainDetail\";\n\nexport default TrainDetail;\n","import React, { Suspense, useState } from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nimport SearchPanel from \"./components/SearchPanel\";\nimport TrainDetail from \"./components/TrainDetail\";\nimport Context from \"./context\";\n\nconst TRA = () => {\n  const [trainDate, setTrainDate] = useState(\"\");\n  const [departure, setDeparture] = useState(\"\");\n  const [arrival, setArrival] = useState(\"\");\n  const [departureTime, setDepartureTime] = useState(\"\");\n  const [arrivalTime, setArrivalTime] = useState(\"\");\n  const [trainType, setTrainType] = useState([]);\n\n  const onSearch = ({\n    date,\n    departure,\n    arrival,\n    departureTime,\n    arrivalTime,\n    trainType\n  }) => {\n    setTrainDate(date);\n    setDeparture(departure);\n    setArrival(arrival);\n    setDepartureTime(departureTime);\n    setArrivalTime(arrivalTime);\n    setTrainType(trainType);\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h3\">台鐵時刻查詢</Typography>\n      <Suspense fallback={<div>Get stations...</div>}>\n        <SearchPanel onSearch={onSearch} />\n      </Suspense>\n      <Context.Provider value={{ trainDate, departure, arrival }}>\n        <Suspense fallback={<div>Get train details...</div>}>\n          <TrainDetail\n            departure={departure}\n            arrival={arrival}\n            trainDate={trainDate}\n            departureTime={departureTime}\n            arrivalTime={arrivalTime}\n            trainType={trainType}\n          />\n        </Suspense>\n      </Context.Provider>\n    </div>\n  );\n};\n\nexport default TRA;\n","import TRA from \"./TRA\";\n\nexport default TRA;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nimport Box from \"@material-ui/core/Box\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\nimport GoTop from \"./components/GoTop\";\nimport THSR from \"./components/THSR\";\nimport TRA from \"./components/TRA\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box pt={2}>{children}</Box>}\n    </div>\n  );\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nfunction App() {\n  const [transportation, setTransportation] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setTransportation(newValue);\n  };\n\n  return (\n    <div className=\"App\">\n      <AppBar position=\"static\" id=\"back-to-top-anchor\">\n        <Tabs\n          value={transportation}\n          onChange={handleChange}\n          aria-label=\"App tabs\"\n        >\n          <Tab label=\"THSR\" {...a11yProps(0)} />\n          <Tab label=\"TRA\" {...a11yProps(1)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={transportation} index={0}>\n        <THSR />\n      </TabPanel>\n      <TabPanel value={transportation} index={1}>\n        <TRA />\n      </TabPanel>\n      <GoTop />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}